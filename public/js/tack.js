$(document).ready(function(){var t,a,e=$(".favoritesList"),o=$(".tackContainer"),i=$(".button--addFavorite"),n=$(".button--orderFavorites"),s=[],r=function(t){var a,e;$.each(t,function(t){t=$(this),a=t.closest(".tackItem").attr("data-id"),e={id:a,button:t},t.on("click",e,d)})},d=function(t){var a=t.data,o='[data-id="'+a.id+'"]',i=e.find(o).length;i?c("remove",a):c("add",a)},c=function(t,a){var o=a.button,i=a.id;if("add"===t)e.removeClass("noFavorites").append('<li class="favoriteItem" data-id="'+i+'"><img src="img/tack/arabian-fancy-tack_'+i+'.jpg"><div class="button--removeFavorite" data-id="'+i+'"><i class="fa fa-times"></i></div></li>'),s.push(i),sessionStorage.setItem("favoritesIDs",JSON.stringify(s));else if("remove"===t){var n,r='[data-id="'+i+'"]';e.find(r).remove(),n=e.find("li").length,1===n&&e.addClass("noFavorites"),s=$.grep(s,function(t){return t!=i}),sessionStorage.setItem("favoritesIDs",JSON.stringify(s))}o.toggleClass("inFavorites")},f=function(t){var a=t.currentTarget.attributes["data-id"].value,e='[data-id="'+a+'"]',i=o.find(e).find(".button--addFavorite");data={id:a,button:i},c("remove",data)},l=function(t){$.each(t,function(t,a){var e='[data-id="'+a+'"]',i=o.find(e).find(".button--addFavorite"),n={id:a,button:i};c("add",n),i.addClass("inFavorites")})},v=function(){s.length>0&&(window.location.href="contact")};sessionStorage.getItem("color")&&("all"!==sessionStorage.color&&(a="."+sessionStorage.color+", .all"),sessionStorage.removeItem("color")),$(".tackContainer").mixItUp({animation:{duration:200,effects:"fade",easing:"ease"},load:{filter:a},callbacks:{onMixStart:function(){$(".tackLoading").addClass("show")},onMixEnd:function(){$(".tackLoading").removeClass("show")}}}),$(".fancybox").fancybox({prevEffect:"fade",nextEffect:"fade",margin:[15,15,40,15],padding:0,helpers:{overlay:{locked:!1},title:{type:"inside",position:"bottom"}}}),sessionStorage.getItem("favoritesIDs")&&(t=JSON.parse(sessionStorage.favoritesIDs),l(t)),r(i),e.on("click",".button--removeFavorite",f),n.on("click",v)});