$(document).ready(function(){var t,a,e=$(".favoritesList"),i=$(".tackContainer"),o=$(".button--addFavorite"),n=$(".button--orderFavorites"),s=[],r=function(t){var a,e;$.each(t,function(t){t=$(this),a=t.closest(".tackItem").attr("data-id"),e={id:a,button:t},t.on("click",e,d)})},d=function(t){var a=t.data,i='[data-id="'+a.id+'"]',o=e.find(i).length;o?c("remove",a):c("add",a)},c=function(t,a){var i=a.button,o=a.id;if("add"===t)e.removeClass("noFavorites").append('<li class="favoriteItem" data-id="'+o+'"><img src="img/tack/arabian-fancy-tack_'+o+'.jpg"><div class="button--removeFavorite" data-id="'+o+'"><i class="fa fa-times"></i></div></li>'),s.push(o),sessionStorage.setItem("favoritesIDs",JSON.stringify(s));else if("remove"===t){var n,r='[data-id="'+o+'"]';e.find(r).remove(),n=e.find("li").length,1===n&&e.addClass("noFavorites"),s=$.grep(s,function(t){return t!=o}),sessionStorage.setItem("favoritesIDs",JSON.stringify(s))}i.toggleClass("inFavorites")},f=function(t){var a=t.currentTarget.attributes["data-id"].value,e='[data-id="'+a+'"]',o=i.find(e).find(".button--addFavorite");data={id:a,button:o},c("remove",data)},v=function(t){$.each(t,function(t,a){var e='[data-id="'+a+'"]',o=i.find(e).find(".button--addFavorite"),n={id:a,button:o};c("add",n),o.addClass("inFavorites")})},l=function(){s.length>0&&(window.location.href="contact")};sessionStorage.getItem("color")&&("all"!==sessionStorage.color&&(a="."+sessionStorage.color+", .all"),sessionStorage.removeItem("color")),$(".tackContainer").mixItUp({animation:{duration:200,effects:"fade",easing:"ease"},load:{filter:a}}),$(".fancybox").fancybox({prevEffect:"fade",nextEffect:"fade",margin:[15,15,40,15],padding:0,helpers:{overlay:{locked:!1},title:{type:"inside",position:"bottom"}}}),sessionStorage.getItem("favoritesIDs")&&(t=JSON.parse(sessionStorage.favoritesIDs),v(t)),r(o),e.on("click",".button--removeFavorite",f),n.on("click",l)});